name: "testnet-mempool-monitor"

chain:
  http_rpc_url: "https://rpc.polygon-cdk-chain.example"
  ws_rpc_url:   "wss://rpc.polygon-cdk-chain.example/ws"
  chain_id: 1101

indexing:
  # Mempool monitoring configuration
  new_tx_subscription_protocol: ws  # "http", "http_watcher" or "ws" - for new transactions subscription/polling
  http_polling_interval_secs: 5  # Only used when protocol is 'http' or 'http_watcher'
  mempool_full_transactions: false  # true = subscribe to full transaction bodies, false = hashes only

  # Filtering transactions by sender/receiver addresses
  filter_senders: []
#  filter_senders:
#    - "0x742d35Cc6634C0532925a3b8BC342A5b6437AFCD"
#    - "0x742d35Cc6634C0532925a3b8BC342A5b6437AFCE"
  filter_receivers: []
#  filter_receivers:
#    - "0x1234567890123456789012345678901234567890"

postgres:
  # Local PostgreSQL connection (primary)
  # libpq connection string format
  dsn: "host=localhost user=mempool_monitor password=passwd dbname=mempool_monitor_db port=5432"
  schema: "./init_table.sql"

# AWS RDS configuration (optional additional data layer)
aws_rds:
  enabled: 0 # Set to 0 to disable or set to 1 to enable AWS RDS support
  endpoint: "your-rds-instance.abcd1234.us-west-2.rds.amazonaws.com"
  port: 5432
  database_name: "mempool_monitor_rds"
  username: "mempool_monitor_user"
  password: "your-secure-password"
  region: "us-west-2"  # AWS region (optional)
  ssl_mode: "require"  # SSL configuration (disable, prefer, require, verify-ca, verify-full)
  connection_timeout: 30  # Connection timeout in seconds (optional)
  max_connections: 10  # Maximum connections (optional)
  schema: "./init_aws_rds_schema.sql"  # Schema file for AWS RDS (optional)

nats:
  nats_enabled: 1 # Set to 1 to enable NATS object storage and events bus support
  url: "nats://localhost:4222"
  # JetStream object store bucket for persisted transaction payloads
  object_store_bucket: "mempool_bucket"
